<% layout('/layouts/default.html', {title: '查看原始数据', libs: ['dataGrid']}){ %>
<div class="main-content">
	<div class="box box-main">
		<div class="box-header">
			<div class="box-title">
				<i class="fa fa-list-alt"></i> ${text('查看原始数据')}
			</div>
		</div>
		<div class="box-body">
			<table id="dataGrid"></table>
		</div>
	</div>
</div>
<% } %>
<script>

	var data = [];
	var dataList = ${dataList};
	for(var i=0;i<dataList.length;i++){
		data.push(dataList[i]);
	}

	var columnModel = [];
	var nameList = ${nameList};
	for(var j=0; j<nameList.length; j++){
		var headerName = nameList[j].name;
		columnModel.push({header:headerName, name:headerName, sortable:false, width:100});
	}

	// 初始化DataGrid对象
	$('#dataGrid').dataGrid({
		data:data,
		datatype: "local",
		columnModel: columnModel, // 应用动态生成的列模型
		showCheckbox: false,
		// 加载成功后执行事件
		ajaxSuccess: function(data){

		}
	});
</script>